name: Call Terraform CI/CD Pipeline

on:
  workflow_dispatch:

jobs:
  call-terraform-workflow:
    uses: aeiforo-co-uk/dt-pillars-terraform-infra-repo/.github/workflows/infra.yml@main
    with:
      repo_name: 'aeiforo-co-uk/dt-module-terraform-infra-repo'
      deploy_env: 'staging'
      terraform_version: '1.5.0'
      plan_and_apply: true
    secrets: inherit
